---
import { Image } from 'astro:assets'

import { PostPreview } from 'astro-pure/components/pages'
import { getBlogCollection, sortMDByDate } from 'astro-pure/server'
import { Button, Card, Icon } from 'astro-pure/user'
import PageLayout from '@/layouts/BaseLayout.astro'
import Section from '@/components/home/Section.astro'
import SkillLayout from '@/components/home/SkillLayout.astro'
import ProjectSection from '@/components/projects/ProjectSection.astro'
import avatar from '@/assets/avatar.webp'
import config from '@/site-config'
import '@/assets/styles/hero.css'

const frontendDevelopment = ['Vue.js', 'React.js', 'TypeScript', 'JavaScript', 'CSS', 'HTML']
const backendDevelopment = ['Node.js']
const generalProgramming = ['C++', 'C', 'Java', 'Python']
const devOpsTools = ['VSCode', 'JetBrains', 'Git', 'Docker', 'Nginx']
const designTools = ['Figma', 'Photoshop', 'Illustrator', 'Sketch', 'Pixelmator', 'Premiere Pro']
const others = ['Markdown', 'LaTeX', 'Typst']

const MAX_POSTS = 10
const allPosts = await getBlogCollection()
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS)
---

<PageLayout meta={{ title: 'Home' }} highlightColor='#659EB9'>
  <main class='flex w-full flex-col items-center'>
    <section id='content-header' class='content-hero animate'>
      <span class='content-hero__halo content-hero__halo--top' aria-hidden='true'></span>
      <span class='content-hero__halo content-hero__halo--bottom' aria-hidden='true'></span>

      <div class='content-hero__inner'>
        <div class='content-hero__copy'>
          <span class='content-hero__eyebrow'>Developer & designer</span>
          <h1 class='content-hero__title'>{config.author}</h1>
          <p class='content-hero__subtitle'>
            <span>To wonder, and to feel.</span>
            <span>å»æ€ç´¢ï¼Œä¹Ÿå»æ„Ÿå—ã€‚</span>
          </p>

          <ul class='content-hero__meta'>
            <li>
              <span class='content-hero__meta-item'>
                <Icon name='location' class='size-5' />
                <span>ä¸­å›½ Â· ç¦å·</span>
              </span>
            </li>
            <li>
              <a
                class='content-hero__meta-item'
                href='https://github.com/Seeridia'
                target='_blank'
                rel='noreferrer'
              >
                <Icon name='github' class='size-5' />
                <span>GitHub</span>
              </a>
            </li>
          </ul>
        </div>

        <div class='content-hero__visual'>
          <div class='content-hero__portrait'>
            <Image
              src={avatar}
              alt='Seeridia portrait'
              class='content-hero__avatar'
              loading='eager'
            />
            <div class='content-hero__portrait-glass' aria-hidden='true'></div>
          </div>
        </div>
      </div>
    </section>

    <div id='content' class='animate flex flex-col gap-y-10 md:w-4/5 lg:w-7/8'>
      <Section title='About'>
        <p class='text-muted-foreground'>ğŸ‘‹ Hi, æˆ‘æ˜¯ Seeridia!</p>
        <p class='text-muted-foreground'>
          ç¦å·å¤§å­¦åœ¨è¯»ï¼Œ2028 å±Šæœ¬ç§‘ç”Ÿï¼Œè½¯ä»¶å·¥ç¨‹ä¸“ä¸šã€‚æ­£åœ¨çŒ›çŒ›å­¦ä¹ ï½ï½
        </p>
        <Button title='More about me' class='w-fit self-end' href='/about' style='ahead' />
      </Section>
      <Section title='Works'>
        <ProjectSection
          projects={[
            {
              name: 'Shotmeld',
              description: 'é«˜é¢œå€¼çš„åœ¨çº¿ç…§ç‰‡å­˜å‚¨ä¸ç®¡ç†å¹³å°',
              links: [
                { type: 'github', href: 'https://github.com/ShotMeld/Shotmeld-web' },
                { type: 'site', href: 'https://shotmeld.seeridia.top' }
              ]
            },
            {
              name: 'Alto',
              description: 'ä¸º typora ç¼–è¾‘å™¨ç²¾å¿ƒè®¾è®¡çš„ä¸»é¢˜ï¼Œä¸“æ³¨äºæå‡å†™ä½œä¸æ€è€ƒçš„æ²‰æµ¸ä½“éªŒ',
              links: [
                { type: 'github', href: 'https://github.com/Seeridia/typora-theme-alto' },
                { type: 'site', href: 'https://theme.typora.io/theme/Alto' },
                {
                  type: 'doc',
                  href: 'https://github.com/Seeridia/typora-theme-alto/blob/main/README.md'
                }
              ]
            },
            {
              name: 'Clipboard Viewer',
              description: 'å‰ªåˆ‡æ¿å†…å®¹è§£æã€è°ƒè¯•å·¥å…·',
              links: [
                { type: 'github', href: 'https://github.com/Seeridia/Clipboard-Viewer' },
                { type: 'site', href: 'https://clipboard-viewer.seeridia.top/' }
              ]
            },
            {
              name: 'Cardify',
              description: 'ä»€ä¹ˆä¸œè¥¿éƒ½è¿˜æ²¡æœ‰çš„ä»€ä¹ˆæ–°å‘',
              links: [
                { type: 'github', href: 'https://github.com/Seeridia/Cardify' }
              ]
            }
          ]}
        />
      </Section>
      <Section title='Contributions'>
        <ProjectSection
          projects={[
            {
              name: 'Tencent / Cherry Markdown',
              description: 'Javascript Markdown ç¼–è¾‘å™¨',
              links: [
                { type: 'github', href: 'https://github.com/Tencent/cherry-markdown' },
                {
                  type: 'release',
                  href: 'https://www.npmjs.com/package/cherry-markdown'
                },
                {
                  type: 'doc',
                  href: 'https://github.com/Tencent/cherry-markdown/wiki'
                }
              ]
            },
            {
              name: 'west2-online / fzuhelper-app',
              description: 'ç¦å·å¤§å­¦ å­¦ç”ŸåŠ©æ‰‹',
              links: [
                { type: 'github', href: 'https://github.com/west2-online/fzuhelper-app' },
                {
                  type: 'release',
                  href: 'https://fzuhelper.w2fzu.com/'
                }
              ]
            }
          ]}
        />
        <Button title='More Repositories' class='w-fit self-end' href='https://github.com/Seeridia?tab=repositories' style='ahead' />
      </Section>
      {
        allPostsByDate.length > 0 && (
          <Section title='Posts'>
            <ul class='flex flex-col gap-y-1.5 sm:gap-y-2'>
              {allPostsByDate.map((p) => (
                <li class='flex flex-col gap-x-2 sm:flex-row'>
                  <PostPreview post={p} />
                </li>
              ))}
            </ul>
            <Button title='More posts' class='w-fit self-end' href='/blog' style='ahead' />
          </Section>
        )
      }
      <Section title='Education'>
        <Card
          as='a'
          heading='ç¦å·å¤§å­¦'
          subheading='è½¯ä»¶å·¥ç¨‹ & æ•°å­—åª’ä½“æŠ€æœ¯'
          date='September 2024 - Present'
          href='https://www.fzu.edu.cn/'
        >
          <img
            class='absolute end-0 z-0 m-0 -my-3 h-full w-1/2 object-cover opacity-40'
            src='/images/education/FZU.svg'
          />
        </Card>
      </Section>

      <Section title='Skills'>
        <SkillLayout title='Frontend' skills={frontendDevelopment} />
        <SkillLayout title='Backend' skills={backendDevelopment} />
        <SkillLayout title='Programming' skills={generalProgramming} />
        <SkillLayout title='Tools' skills={devOpsTools} />
        <SkillLayout title='Design' skills={designTools} />
        <SkillLayout title='Other' skills={others} />
      </Section>
    </div>
  </main>
</PageLayout>
